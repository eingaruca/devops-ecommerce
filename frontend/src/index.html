<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Frontend</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://kit.fontawesome.com/a2c2ab77fe.js" crossorigin="anonymous"></script>
  <script>
  
    document.addEventListener("DOMContentLoaded", function() {
          var lastScrollTop = 0;
          var navbar = document.querySelector('.header');
          var container = document.querySelector('.container');
  
          window.addEventListener("scroll", function() {
              var currentScroll = window.pageYOffset || document.documentElement.scrollTop;
  
              if (currentScroll > lastScrollTop) {
                  navbar.style.top = "-100px"; // Oculta el navbar cuando se desplaza hacia abajo
              } else {
                  navbar.style.top = "0"; // Muestra el navbar cuando se desplaza hacia arriba
              }
  
              lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
  
              container.style.top = Math.max(93 - currentScroll, 0) + "1"; // Fija el texto "Bienvenidos"
          });
      });
  
  
  window.addEventListener('scroll', function() {
    var welcomeText = document.getElementById('welcomeText');
    var header = document.querySelector('.header');
    if (window.scrollY > 50) {
        header.classList.add('hide');
        welcomeText.style.visibility = 'hidden';
    } else {
        header.classList.remove('hide');
        welcomeText.style.visibility = 'visible';
    }
  });
  </script>

<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

</head>
<body>
  <app-root></app-root>

  <script>
    


    const payAmountBtn = document.querySelector('#payAmount');
    const decrementBtn = document.querySelectorAll('#decrement');
    const quantityElem = document.querySelectorAll('#quantity');
    const incrementBtn = document.querySelectorAll('#increment');
    const priceElem = document.querySelectorAll('#price');
    const subtotalElem = document.querySelector('#subtotal');
    const IVAElem = document.querySelector('#IVA');
    const totalElem = document.querySelector('#total');
    
    
    
    for ( let i = 0; i < incrementBtn.length; i++ ) {
    
        incrementBtn[i].addEventListener('click', function () {
    
            let increment = Number(this.previousElementSibling.textContent);
    
            increment++;
    
            this.previousElementSibling.textContent = increment;
    
            totalCalc();
    
        });
    
        decrementBtn[i].addEventListener('click', function () {
    
            let decrement = Number(this.nextElementSibling.textContent);
    
        
            decrement <= 1 ? 1 : decrement--;
    
            this.nextElementSibling.textContent = decrement;
    
            totalCalc();
    
        });
    }
    
    const totalCalc = function() {
    
    
        const IVA = 0.21;
        let subtotal = 0;
        let totalIVA = 0;
        let total = 0;
    
        for ( let i = 0; i < quantityElem.length; i++) {
    
            subtotal += Number(quantityElem[i].textContent) * Number(priceElem[i].textContent);
        }
    
        subtotalElem.textContent = subtotal.toFixed(2);
    
        totalIVA = subtotal * IVA;
    
        IVAElem.textContent = totalIVA.toFixed(2);
    
        total = subtotal + totalIVA;
    
        totalElem.textContent = total.toFixed(2);
        payAmountBtn.textContent = total.toFixed(2);
    
    
    }
    
    </script>
    
</body>
</html>
